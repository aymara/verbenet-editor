{% extends "base.html" %}
{% load static %}
{% load mptt_tags %}

{% block all %}

<div class="container">
  <div class="row-fluid">

    <div class="span3">
      <div class="well sidebar-nav">
        <ul class="nav nav-list">
        {% for class in levin_classes %}
          {% spaceless %}{% if class.number == active_class.number %}
              <li class="active"><a href="#">{{ class.number }}: {{ class.name }}</a></li>
            {% else %}
              <li><a href="/class/{{class.number}}/">{{ class.number }}: {{ class.name }}</a></li>
            {% endif %}
           {% endspaceless %}{% endfor %}
        </ul>
      </div>
    </div>

    <div class="span9">

      <h1>{% block page_title %}{{ active_class.number }}: {{ active_class.name }}{% endblock page_title %}</h1>
 
      {% block content %}
        {% for classe in verbnet_classes %}
        <article>
            <h2 id="{{classe.name}}">
                <a class="verbnet" href="http://verbs.colorado.edu/verb-index/vn/{{classe.name}}.php">{{classe.name}}</a>
                {% if classe.lvf_string %}<span class="editable" data-field="lvf">{{classe.lvf_string}}</span><a href="http://rali.iro.umontreal.ca/Dubois/classe/{{classe.lvf_string}}.html" class="external" href="#"><i class="icon-share-alt"></i></a>{% endif %}
            {% if classe.ladl_string %}<span class="editable" data-field="ladl">{{classe.ladl_string}}</span><a href="http://verbenet.pradet.me/verbes-html/V_{{classe.ladl_string}}.lgt.html" class="external" href="#"><i class="icon-share-alt"></i></a>{% endif %}
            </h2>
            <p>{{classe.paragon}}{%if classe.comment %} | {{classe.comment}}{% endif %}</p>
            {% for name, frameset in framesets.items %}
                {{ name }}
               {% if name == classe.name %}{{ frameset.verbnet_class.name }}{% endif %}
            {% endfor %}
            <ul>
                {% recursetree classe.verbnetframeset_set.all %}
                <li>{{node.name}}</li>
                <li>Membres : {% for word in node.verbnetmember_set.all %}{{ word }} {% endfor %}</li>
                <li>Traductions :
                    <ul class="evaluate invalid">
                        {% for word in node.verbtranslation_set.all %}
                        <li  {% if word.category == 'unknown' or word.category = 'dicovalence' %} style="display:none" {% endif %} class="{{word.category}}" data-origin="{{word.origin}}">{{word.verb}}, </li>
                        {% endfor %}
                    </ul>
                <ul>
                    {% for frame in node.verbnetframe_set.all %}
                    <div class="frame">
                    <p>{{ frame.syntax }}</p>
                    <table class="table">
                        <tr><td>Exemple</td><td>{{ frame.example }}</td></tr>
                        <tr><td>Syntaxe</td><td>{{ frame.roles_syntax }}</td></tr>
                        <tr><td>SÃ©mantique</td><td>{{ frame.semantics }}</td></tr>
                    </table>
                    </div>
                    {% endfor %}
                </ul>
                {% if not node.is_leaf_node %}
                <ul>
                    {{ children }}
                </ul>
                {% endif %}

                {% endrecursetree %}
            </ul>
            <ul>
                    <ul class="verbnet_members">
                    {% spaceless %}
                      {% for name, origins in all_origins.items %}
                         {% if name == classe.name %}{% for word in origins %}
                          <li>{{word.lemma}}</li>
                          <span class="comma_hack">, </span>
                        {% endfor %}{% endif %}
                      {% endfor %}
                    {% endspaceless %}
                    </ul>
                    <ul class="evaluate invalid">
                    {% for name, translations in all_translations.items %}
                       {% if name == classe.name %}{% for word in translations %}
                        <li {% if word.category == 'unknown' or word.category = 'dicovalence' %} style="display:none" {% endif %} class="{{word.category}}" data-origin="{{word.origin}}">{{word.verb}}, </li> {% endfor %}{% endif %}
                    {% endfor %}
            </ul>
        </article>
        {% endfor %}
      {% endblock content %}
    </div>
  </div>

</div> <!-- /container-fluid -->
{% endblock all %}
